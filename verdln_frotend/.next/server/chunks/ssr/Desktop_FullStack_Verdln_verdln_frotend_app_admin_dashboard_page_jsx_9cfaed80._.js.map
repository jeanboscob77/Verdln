{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jean%20Bosco/Desktop/FullStack/Verdln/verdln_frotend/app/admin/dashboard/page.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { useLanguage } from \"@/Context/LanguageContext\";\r\n\r\nexport default function AdminDashboard() {\r\n  const { t } = useLanguage();\r\n\r\n  // Dummy loan requests\r\n  const [requests, setRequests] = useState([\r\n    {\r\n      id: 1,\r\n      farmer: \"Alice\",\r\n      input: \"Seeds\",\r\n      package: \"5kg\",\r\n      amount: 100,\r\n      status: \"Pending\",\r\n      notes: \"\",\r\n      repayments: [],\r\n    },\r\n    {\r\n      id: 2,\r\n      farmer: \"Bob\",\r\n      input: \"Fertilizer\",\r\n      package: \"10kg\",\r\n      amount: 150,\r\n      status: \"Approved\",\r\n      notes: \"\",\r\n      repayments: [],\r\n    },\r\n  ]);\r\n\r\n  const [selectedRepayment, setSelectedRepayment] = useState(null);\r\n  const [repayAmount, setRepayAmount] = useState(\"\");\r\n  const [repayMethod, setRepayMethod] = useState(\"Cash\");\r\n\r\n  // Approve/Reject handlers\r\n  const handleStatusChange = (id, newStatus) => {\r\n    setRequests((prev) =>\r\n      prev.map((r) => (r.id === id ? { ...r, status: newStatus } : r))\r\n    );\r\n  };\r\n\r\n  // Add admin notes\r\n  const handleAddNotes = (id, notes) => {\r\n    setRequests((prev) => prev.map((r) => (r.id === id ? { ...r, notes } : r)));\r\n  };\r\n\r\n  // Submit repayment for a specific farmer\r\n  const handleRepayment = (e) => {\r\n    e.preventDefault();\r\n    if (!selectedRepayment) return;\r\n\r\n    setRequests((prev) =>\r\n      prev.map((r) =>\r\n        r.id === selectedRepayment.id\r\n          ? {\r\n              ...r,\r\n              repayments: [\r\n                ...r.repayments,\r\n                {\r\n                  amount: repayAmount,\r\n                  method: repayMethod,\r\n                  date: new Date().toLocaleDateString(),\r\n                },\r\n              ],\r\n            }\r\n          : r\r\n      )\r\n    );\r\n\r\n    setRepayAmount(\"\");\r\n    setRepayMethod(\"Cash\");\r\n    setSelectedRepayment(null);\r\n  };\r\n\r\n  // Calculate summary\r\n  const totalLoans = requests.reduce((acc, r) => acc + r.amount, 0);\r\n  const totalRepayments = requests.reduce(\r\n    (acc, r) => acc + r.repayments.reduce((a, p) => a + Number(p.amount), 0),\r\n    0\r\n  );\r\n  const pendingRequests = requests.filter((r) => r.status === \"Pending\").length;\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">{t.adminDashboardTitle}</h1>\r\n\r\n      {/* Summary */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n        <div className=\"p-4 bg-white rounded shadow\">\r\n          <h2 className=\"font-semibold\">{t.totalLoans}</h2>\r\n          <p>{totalLoans}</p>\r\n        </div>\r\n        <div className=\"p-4 bg-white rounded shadow\">\r\n          <h2 className=\"font-semibold\">{t.totalRepayments}</h2>\r\n          <p>{totalRepayments}</p>\r\n        </div>\r\n        <div className=\"p-4 bg-white rounded shadow\">\r\n          <h2 className=\"font-semibold\">{t.pendingRequests}</h2>\r\n          <p>{pendingRequests}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Loan Requests Table */}\r\n      <div className=\"overflow-x-auto mb-6\">\r\n        <table className=\"min-w-full bg-white rounded shadow\">\r\n          <thead className=\"bg-gray-100\">\r\n            <tr>\r\n              <th className=\"p-2 border\">{t.farmer}</th>\r\n              <th className=\"p-2 border\">{t.input}</th>\r\n              <th className=\"p-2 border\">{t.package}</th>\r\n              <th className=\"p-2 border\">{t.amount}</th>\r\n              <th className=\"p-2 border\">{t.status}</th>\r\n              <th className=\"p-2 border\">{t.notes}</th>\r\n              <th className=\"p-2 border\">{t.actions}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {requests.map((r) => (\r\n              <tr key={r.id} className=\"text-center\">\r\n                <td className=\"p-2 border\">{r.farmer}</td>\r\n                <td className=\"p-2 border\">{r.input}</td>\r\n                <td className=\"p-2 border\">{r.package}</td>\r\n                <td className=\"p-2 border\">{r.amount}</td>\r\n                <td\r\n                  className={`p-2 border font-semibold ${\r\n                    r.status === \"Pending\"\r\n                      ? \"text-yellow-600\"\r\n                      : r.status === \"Approved\"\r\n                      ? \"text-green-600\"\r\n                      : \"text-red-600\"\r\n                  }`}\r\n                >\r\n                  {r.status}\r\n                </td>\r\n                <td className=\"p-2 border\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"border p-1 rounded w-full\"\r\n                    value={r.notes}\r\n                    onChange={(e) => handleAddNotes(r.id, e.target.value)}\r\n                  />\r\n                </td>\r\n                <td className=\"p-2 border space-x-2\">\r\n                  <button\r\n                    className=\"px-2 py-1 bg-green-600 text-white rounded\"\r\n                    onClick={() => handleStatusChange(r.id, \"Approved\")}\r\n                  >\r\n                    {t.approve}\r\n                  </button>\r\n                  <button\r\n                    className=\"px-2 py-1 bg-red-600 text-white rounded\"\r\n                    onClick={() => handleStatusChange(r.id, \"Rejected\")}\r\n                  >\r\n                    {t.reject}\r\n                  </button>\r\n                  <button\r\n                    className=\"px-2 py-1 bg-blue-600 text-white rounded\"\r\n                    onClick={() => setSelectedRepayment(r)}\r\n                  >\r\n                    {t.repay}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Repayment Form */}\r\n      {selectedRepayment && (\r\n        <div className=\"p-4 bg-white rounded shadow mb-6\">\r\n          <h2 className=\"font-semibold mb-2\">\r\n            {t.repay} {selectedRepayment.farmer}\r\n          </h2>\r\n          <form className=\"space-y-3\" onSubmit={handleRepayment}>\r\n            <input\r\n              type=\"number\"\r\n              placeholder={t.amount}\r\n              value={repayAmount}\r\n              onChange={(e) => setRepayAmount(e.target.value)}\r\n              className=\"w-full border p-2 rounded\"\r\n            />\r\n            <select\r\n              value={repayMethod}\r\n              onChange={(e) => setRepayMethod(e.target.value)}\r\n              className=\"w-full border p-2 rounded\"\r\n            >\r\n              <option value=\"Cash\">{t.cash}</option>\r\n              <option value=\"MobileMoney\">{t.mobileMoney}</option>\r\n            </select>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full bg-green-600 text-white p-2 rounded\"\r\n            >\r\n              {t.submitRepayment}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}